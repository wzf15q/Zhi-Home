---
import BaseLayout from '../layouts/BaseLayout.astro';

// AI Tools Data
const aiTools = [
  {
    name: "ChatGPT",
    description: "OpenAI å¼€å‘çš„å¼ºå¤§å¯¹è¯å¼ AI åŠ©æ‰‹ï¼Œæ”¯æŒå¤šç§ä»»åŠ¡",
    url: "https://chat.openai.com",
    category: "chat",
    tags: ["å¯¹è¯", "å†™ä½œ", "ç¼–ç¨‹"],
    icon: "ğŸ’¬",
    featured: true
  },
  {
    name: "Claude",
    description: "Anthropic çš„ AI åŠ©æ‰‹ï¼Œæ“…é•¿é•¿æ–‡æœ¬ç†è§£å’Œåˆ†æ",
    url: "https://claude.ai",
    category: "chat",
    tags: ["å¯¹è¯", "åˆ†æ", "å†™ä½œ"],
    icon: "ğŸ¤–",
    featured: true
  },
  {
    name: "Midjourney",
    description: "é¡¶çº§ AI å›¾åƒç”Ÿæˆå·¥å…·ï¼Œåˆ›é€ æƒŠè‰³çš„è‰ºæœ¯ä½œå“",
    url: "https://www.midjourney.com",
    category: "image",
    tags: ["å›¾åƒ", "è‰ºæœ¯", "è®¾è®¡"],
    icon: "ğŸ¨",
    featured: true
  },
  {
    name: "DALLÂ·E 3",
    description: "OpenAI çš„å›¾åƒç”Ÿæˆæ¨¡å‹ï¼Œç²¾å‡†ç†è§£æ–‡å­—æè¿°",
    url: "https://openai.com/dall-e-3",
    category: "image",
    tags: ["å›¾åƒ", "åˆ›æ„", "è®¾è®¡"],
    icon: "ğŸ–¼ï¸"
  },
  {
    name: "GitHub Copilot",
    description: "AI ç¼–ç¨‹åŠ©æ‰‹ï¼Œå®æ—¶ä»£ç å»ºè®®å’Œè‡ªåŠ¨è¡¥å…¨",
    url: "https://github.com/features/copilot",
    category: "coding",
    tags: ["ç¼–ç¨‹", "å¼€å‘", "æ•ˆç‡"],
    icon: "ğŸ’»",
    featured: true
  },
  {
    name: "Cursor",
    description: "AI é©±åŠ¨çš„ä»£ç ç¼–è¾‘å™¨ï¼Œæ™ºèƒ½ç¼–ç¨‹ä½“éªŒ",
    url: "https://cursor.sh",
    category: "coding",
    tags: ["ç¼–ç¨‹", "IDE", "AI"],
    icon: "âš¡"
  },
  {
    name: "Notion AI",
    description: "é›†æˆåœ¨ Notion ä¸­çš„ AI å†™ä½œå’Œæ•´ç†åŠ©æ‰‹",
    url: "https://www.notion.so/product/ai",
    category: "writing",
    tags: ["å†™ä½œ", "ç¬”è®°", "æ•´ç†"],
    icon: "âœï¸"
  },
  {
    name: "Grammarly",
    description: "AI å†™ä½œåŠ©æ‰‹ï¼Œè¯­æ³•æ£€æŸ¥å’Œæ–‡é£ä¼˜åŒ–",
    url: "https://www.grammarly.com",
    category: "writing",
    tags: ["å†™ä½œ", "è¯­æ³•", "ä¼˜åŒ–"],
    icon: "ğŸ“"
  },
  {
    name: "Runway",
    description: "AI è§†é¢‘ç¼–è¾‘å’Œç”Ÿæˆå¹³å°ï¼Œåˆ›æ„æ— é™",
    url: "https://runwayml.com",
    category: "video",
    tags: ["è§†é¢‘", "ç¼–è¾‘", "åˆ›æ„"],
    icon: "ğŸ¬"
  },
  {
    name: "ElevenLabs",
    description: "AI è¯­éŸ³åˆæˆå·¥å…·ï¼Œç”Ÿæˆè‡ªç„¶æµç•…çš„è¯­éŸ³",
    url: "https://elevenlabs.io",
    category: "audio",
    tags: ["è¯­éŸ³", "éŸ³é¢‘", "åˆæˆ"],
    icon: "ğŸ™ï¸"
  },
  {
    name: "Perplexity",
    description: "AI æœç´¢å¼•æ“ï¼Œæ™ºèƒ½é—®ç­”å’Œä¿¡æ¯æ£€ç´¢",
    url: "https://www.perplexity.ai",
    category: "utility",
    tags: ["æœç´¢", "é—®ç­”", "ç ”ç©¶"],
    icon: "ğŸ”"
  },
  {
    name: "Jasper",
    description: "AI è¥é”€æ–‡æ¡ˆç”Ÿæˆå·¥å…·ï¼Œæå‡å†…å®¹åˆ›ä½œæ•ˆç‡",
    url: "https://www.jasper.ai",
    category: "writing",
    tags: ["è¥é”€", "æ–‡æ¡ˆ", "åˆ›ä½œ"],
    icon: "ğŸ“¢"
  }
];

const categories = [
  { id: "all", name: "å…¨éƒ¨", icon: "ğŸŒŸ" },
  { id: "chat", name: "å¯¹è¯åŠ©æ‰‹", icon: "ğŸ’¬" },
  { id: "image", name: "å›¾åƒç”Ÿæˆ", icon: "ğŸ¨" },
  { id: "coding", name: "ç¼–ç¨‹åŠ©æ‰‹", icon: "ğŸ’»" },
  { id: "writing", name: "å†™ä½œå·¥å…·", icon: "âœï¸" },
  { id: "video", name: "è§†é¢‘å·¥å…·", icon: "ğŸ¬" },
  { id: "audio", name: "éŸ³é¢‘å·¥å…·", icon: "ğŸ™ï¸" },
  { id: "utility", name: "å®ç”¨å·¥å…·", icon: "ğŸ”§" }
];
---

<BaseLayout 
  title="Zhi Home - AI å·¥å…·å¯¼èˆª | ç²¾é€‰ AI å·¥å…·é›†åˆ"
  description="å‘ç°æœ€ä¼˜ç§€çš„ AI å·¥å…·ï¼Œæå‡å·¥ä½œæ•ˆç‡å’Œåˆ›é€ åŠ›"
>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="container navbar-content">
      <div class="brand">Zhi Home</div>
      <div class="nav-actions">
        <button class="btn btn-secondary btn-icon" id="themeToggle" aria-label="åˆ‡æ¢ä¸»é¢˜">
          <span id="themeIcon">ğŸŒ™</span>
        </button>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <img src="/avatar.svg" alt="Avatar" class="hero-avatar" />
      <h1 class="hero-title">å‘ç°æœ€ä¼˜ç§€çš„ AI å·¥å…·</h1>
      <p class="hero-subtitle">ç²¾é€‰å…¨çƒé¡¶å°–çš„äººå·¥æ™ºèƒ½å·¥å…·ï¼ŒåŠ©åŠ›æ‚¨çš„å·¥ä½œä¸åˆ›ä½œï¼Œå¼€å¯æ™ºèƒ½æ–°æ—¶ä»£</p>
      <div class="hero-links">
        <a href="https://github.com" class="social-link" target="_blank" rel="noopener">
          <span>ğŸ”—</span>
          <span>GitHub</span>
        </a>
        <a href="https://twitter.com" class="social-link" target="_blank" rel="noopener">
          <span>ğŸ¦</span>
          <span>Twitter</span>
        </a>
        <a href="mailto:hello@example.com" class="social-link">
          <span>âœ‰ï¸</span>
          <span>Email</span>
        </a>
      </div>
    </div>
  </section>

  <!-- Tools Section -->
  <section class="section">
    <div class="container">
      <div class="section-header">
        <h2 class="section-title">AI å·¥å…·å¯¼èˆª</h2>
        <p class="section-description">æ¢ç´¢ {aiTools.length} ä¸ªç²¾é€‰ AI å·¥å…·ï¼Œæ¶µç›–å¯¹è¯ã€å›¾åƒã€ç¼–ç¨‹ã€å†™ä½œç­‰å¤šä¸ªé¢†åŸŸ</p>
      </div>

      <!-- Search Bar -->
      <div class="search-bar">
        <input 
          type="text" 
          class="search-input" 
          id="searchInput"
          placeholder="æœç´¢å·¥å…·åç§°ã€æè¿°æˆ–æ ‡ç­¾..." 
          aria-label="æœç´¢å·¥å…·"
        />
        <span class="search-icon">ğŸ”</span>
      </div>

      <!-- Category Filters -->
      <div class="filter-tabs">
        {categories.map(cat => (
          <button 
            class={`filter-tab ${cat.id === 'all' ? 'active' : ''}`}
            data-category={cat.id}
          >
            <span>{cat.icon}</span>
            <span>{cat.name}</span>
          </button>
        ))}
      </div>

      <!-- Tools Grid -->
      <div class="tools-grid fade-in" id="toolsGrid">
        {aiTools.map(tool => (
          <a 
            href={tool.url} 
            target="_blank" 
            rel="noopener noreferrer"
            class="tool-card"
            data-category={tool.category}
            data-tags={tool.tags.join(',')}
            data-name={tool.name.toLowerCase()}
            data-description={tool.description.toLowerCase()}
          >
            {tool.featured && <span class="tool-badge">ç²¾é€‰</span>}
            <div class="tool-icon">{tool.icon}</div>
            <h3 class="tool-name">{tool.name}</h3>
            <p class="tool-description">{tool.description}</p>
            <div class="tool-tags">
              {tool.tags.map(tag => (
                <span class="tag">{tag}</span>
              ))}
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p class="footer-text">Â© 2026 Zhi Home | ç²¾é€‰ AI å·¥å…·å¯¼èˆª | æŒç»­æ›´æ–°ä¸­</p>
    </div>
  </footer>

  <script>
    // Theme Toggle
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    const html = document.documentElement;
    
    // Initialize theme from localStorage
    const savedTheme = localStorage.getItem('theme') || 'light';
    if (savedTheme === 'dark') {
      html.setAttribute('data-theme', 'dark');
      themeIcon.textContent = 'â˜€ï¸';
    }
    
    themeToggle.addEventListener('click', () => {
      const currentTheme = html.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      
      // Add transition class
      document.body.classList.add('theme-transition');
      
      html.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      themeIcon.textContent = newTheme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
      
      // Remove transition class after animation
      setTimeout(() => {
        document.body.classList.remove('theme-transition');
      }, 350);
    });

    // Search and Filter Functionality
    const searchInput = document.getElementById('searchInput');
    const filterTabs = document.querySelectorAll('.filter-tab');
    const toolCards = document.querySelectorAll('.tool-card');
    
    let currentCategory = 'all';
    let searchTerm = '';
    
    // Filter function
    function filterTools() {
      toolCards.forEach(card => {
        const category = card.getAttribute('data-category');
        const name = card.getAttribute('data-name');
        const description = card.getAttribute('data-description');
        const tags = card.getAttribute('data-tags').toLowerCase();
        
        const matchesCategory = currentCategory === 'all' || category === currentCategory;
        const matchesSearch = searchTerm === '' || 
                             name.includes(searchTerm) || 
                             description.includes(searchTerm) ||
                             tags.includes(searchTerm);
        
        if (matchesCategory && matchesSearch) {
          card.style.display = 'block';
          // Trigger reflow for animation
          setTimeout(() => {
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
          }, 10);
        } else {
          card.style.opacity = '0';
          card.style.transform = 'translateY(20px)';
          setTimeout(() => {
            card.style.display = 'none';
          }, 250);
        }
      });
    }
    
    // Search input handler
    searchInput.addEventListener('input', (e) => {
      searchTerm = e.target.value.toLowerCase().trim();
      filterTools();
    });
    
    // Category filter handler
    filterTabs.forEach(tab => {
      tab.addEventListener('click', () => {
        // Update active state
        filterTabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        
        // Update current category
        currentCategory = tab.getAttribute('data-category');
        filterTools();
      });
    });
    
    // Prevent default link behavior during filter animations
    toolCards.forEach(card => {
      card.style.transition = 'all 0.25s cubic-bezier(0.4, 0, 0.2, 1)';
    });
  </script>
</BaseLayout>